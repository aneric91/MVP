{"ast":null,"code":"var _jsxFileName = \"/home/gunter_/MVP/agriconnect-front/src/components/PlanSelection.js\",\n  _s = $RefreshSig$();\n// import React from \"react\";\n// import { useNavigate } from \"react-router-dom\"; \n// import '../styles/PlanSelection.css';\n\n// const plans = [\n//   { name: \"Basic\", price: \"€10\", area: \"Up to 4 hectares\", includes: \"Fertilizer + Seeds\" },\n//   { name: \"Standard\", price: \"€20\", area: \"Up to 10 hectares\", includes: \"Fertilizer + Seeds + Pesticides\" },\n//   { name: \"Premium\", price: \"€30\", area: \"Up to 20 hectares\", includes: \"All inputs + Dedicated support\" },\n// ];\n\n// const PlanSelection = () => {\n//   const navigate = useNavigate();\n\n//   const handleSelection = (planName) => {\n//     navigate(`/payment?plan=${planName}`);\n//   };\n\n//   return (\n//     <div className=\"plans-container\">\n//       <div className=\"plans-wrapper\">\n//         <h1 className=\"plans-title\">Choose Your Plan</h1>\n\n//         <div className=\"plans-grid\">\n//           {plans.map((plan) => (\n//             <div key={plan.name} className=\"plan-card\">\n//               <div className=\"price-banner\">\n//                 {plan.price}/month\n//               </div>\n\n//               <div className=\"plan-content\">\n//                 <h2 className=\"plan-name\">{plan.name}</h2>\n\n//                 <div className=\"features-list\">\n//                   <div className=\"feature-item\">\n//                     <svg className=\"check-icon\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n//                       <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M5 13l4 4L19 7\" />\n//                     </svg>\n//                     {plan.area}\n//                   </div>\n\n//                   <div className=\"feature-item\">\n//                     <svg className=\"check-icon\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n//                       <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M5 13l4 4L19 7\" />\n//                     </svg>\n//                     {plan.includes}\n//                   </div>\n//                 </div>\n\n//                 <button\n//                   onClick={() => handleSelection(plan.name)}\n//                   className=\"select-button\"\n//                 >\n//                   Select\n//                 </button>\n//               </div>\n//             </div>\n//           ))}\n//         </div>\n//       </div>\n//     </div>\n//   );\n// };\n// export default PlanSelection;\n\nimport React from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport \"../styles/PlanSelection.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst plans = [{\n  name: \"Basic\",\n  price: \"€10\",\n  area: \"Up to 4 hectares\",\n  includes: \"Fertilizer + Seeds\"\n}, {\n  name: \"Standard\",\n  price: \"€20\",\n  area: \"Up to 10 hectares\",\n  includes: \"Fertilizer + Seeds + Pesticides\"\n}, {\n  name: \"Premium\",\n  price: \"€30\",\n  area: \"Up to 20 hectares\",\n  includes: \"All inputs + Dedicated support\"\n}];\nconst PlanSelection = () => {\n  _s();\n  const navigate = useNavigate();\n  const handleSelection = async planName => {\n    try {\n      const token = localStorage.getItem(\"token\");\n      const userId = localStorage.getItem(\"user\"); // Ajoute userId dans le localStorage lors de la connexion\n\n      if (!token) {\n        alert(\"You must be logged in to select a plan.\");\n        return;\n      }\n\n      // Associe les noms des plans aux IDs de la base de données\n      const subscriptionIds = {\n        \"Basic\": \"679fd2a084bd383edbded181\",\n        \"Standard\": \"679fd2a084bd383edbded182\",\n        \"Premium\": \"679fd2a084bd383edbded183\"\n      };\n      const subscriptionId = subscriptionIds[planName];\n      if (!subscriptionId) {\n        alert(\"Invalid plan selected.\");\n        return;\n      }\n      const response = await fetch(\"http://localhost:5000/subscriptions/choose\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"Authorization\": `Bearer ${token}`\n        },\n        body: JSON.stringify({\n          userId,\n          subscriptionId\n        })\n      });\n      const data = await response.json();\n      if (!response.ok) {\n        alert(data.error);\n        return;\n      }\n      alert(\"Plan selected successfully!\");\n      navigate(\"/dashboard\");\n    } catch (error) {\n      console.error(\"Error selecting plan:\", error);\n      alert(\"Error selecting plan.\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"plans-container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"plans-wrapper\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"plans-title\",\n        children: \"Choose Your Plan\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"plans-grid\",\n        children: plans.map(plan => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"plan-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"price-banner\",\n            children: [plan.price, \"/month\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"plan-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"plan-name\",\n              children: plan.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 134,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"features-list\",\n              children: [plan.area, plan.includes].map((feature, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"feature-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                  className: \"check-icon\",\n                  fill: \"none\",\n                  stroke: \"currentColor\",\n                  viewBox: \"0 0 24 24\",\n                  children: /*#__PURE__*/_jsxDEV(\"path\", {\n                    strokeLinecap: \"round\",\n                    strokeLinejoin: \"round\",\n                    strokeWidth: \"2\",\n                    d: \"M5 13l4 4L19 7\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 139,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 138,\n                  columnNumber: 23\n                }, this), feature]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 137,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleSelection(plan.name),\n              className: \"select-button\",\n              children: \"Select\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 145,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 15\n          }, this)]\n        }, plan.name, true, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 126,\n    columnNumber: 5\n  }, this);\n};\n_s(PlanSelection, \"CzcTeTziyjMsSrAVmHuCCb6+Bfg=\", false, function () {\n  return [useNavigate];\n});\n_c = PlanSelection;\nexport default PlanSelection;\nvar _c;\n$RefreshReg$(_c, \"PlanSelection\");","map":{"version":3,"names":["React","useNavigate","jsxDEV","_jsxDEV","plans","name","price","area","includes","PlanSelection","_s","navigate","handleSelection","planName","token","localStorage","getItem","userId","alert","subscriptionIds","subscriptionId","response","fetch","method","headers","body","JSON","stringify","data","json","ok","error","console","className","children","fileName","_jsxFileName","lineNumber","columnNumber","map","plan","feature","index","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","onClick","_c","$RefreshReg$"],"sources":["/home/gunter_/MVP/agriconnect-front/src/components/PlanSelection.js"],"sourcesContent":["// import React from \"react\";\n// import { useNavigate } from \"react-router-dom\"; \n// import '../styles/PlanSelection.css';\n\n// const plans = [\n//   { name: \"Basic\", price: \"€10\", area: \"Up to 4 hectares\", includes: \"Fertilizer + Seeds\" },\n//   { name: \"Standard\", price: \"€20\", area: \"Up to 10 hectares\", includes: \"Fertilizer + Seeds + Pesticides\" },\n//   { name: \"Premium\", price: \"€30\", area: \"Up to 20 hectares\", includes: \"All inputs + Dedicated support\" },\n// ];\n\n// const PlanSelection = () => {\n//   const navigate = useNavigate();\n\n//   const handleSelection = (planName) => {\n//     navigate(`/payment?plan=${planName}`);\n//   };\n\n//   return (\n//     <div className=\"plans-container\">\n//       <div className=\"plans-wrapper\">\n//         <h1 className=\"plans-title\">Choose Your Plan</h1>\n        \n//         <div className=\"plans-grid\">\n//           {plans.map((plan) => (\n//             <div key={plan.name} className=\"plan-card\">\n//               <div className=\"price-banner\">\n//                 {plan.price}/month\n//               </div>\n              \n//               <div className=\"plan-content\">\n//                 <h2 className=\"plan-name\">{plan.name}</h2>\n                \n//                 <div className=\"features-list\">\n//                   <div className=\"feature-item\">\n//                     <svg className=\"check-icon\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n//                       <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M5 13l4 4L19 7\" />\n//                     </svg>\n//                     {plan.area}\n//                   </div>\n                  \n//                   <div className=\"feature-item\">\n//                     <svg className=\"check-icon\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n//                       <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M5 13l4 4L19 7\" />\n//                     </svg>\n//                     {plan.includes}\n//                   </div>\n//                 </div>\n\n//                 <button\n//                   onClick={() => handleSelection(plan.name)}\n//                   className=\"select-button\"\n//                 >\n//                   Select\n//                 </button>\n//               </div>\n//             </div>\n//           ))}\n//         </div>\n//       </div>\n//     </div>\n//   );\n// };\n// export default PlanSelection;\n\nimport React from \"react\";\nimport { useNavigate } from \"react-router-dom\"; \nimport \"../styles/PlanSelection.css\";\n\nconst plans = [\n  { name: \"Basic\", price: \"€10\", area: \"Up to 4 hectares\", includes: \"Fertilizer + Seeds\" },\n  { name: \"Standard\", price: \"€20\", area: \"Up to 10 hectares\", includes: \"Fertilizer + Seeds + Pesticides\" },\n  { name: \"Premium\", price: \"€30\", area: \"Up to 20 hectares\", includes: \"All inputs + Dedicated support\" },\n];\n\nconst PlanSelection = () => {\n  const navigate = useNavigate();\n\n  const handleSelection = async (planName) => {\n    try {\n      const token = localStorage.getItem(\"token\");\n      const userId = localStorage.getItem(\"user\"); // Ajoute userId dans le localStorage lors de la connexion\n  \n      if (!token) {\n        alert(\"You must be logged in to select a plan.\");\n        return;\n      }\n  \n      // Associe les noms des plans aux IDs de la base de données\n      const subscriptionIds = {\n        \"Basic\": \"679fd2a084bd383edbded181\",\n        \"Standard\": \"679fd2a084bd383edbded182\",\n        \"Premium\": \"679fd2a084bd383edbded183\",\n      };\n  \n      const subscriptionId = subscriptionIds[planName];\n      if (!subscriptionId) {\n        alert(\"Invalid plan selected.\");\n        return;\n      }\n  \n      const response = await fetch(\"http://localhost:5000/subscriptions/choose\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"Authorization\": `Bearer ${token}`\n        },\n        body: JSON.stringify({ userId, subscriptionId })\n      });\n  \n      const data = await response.json();\n      if (!response.ok) {\n        alert(data.error);\n        return;\n      }\n  \n      alert(\"Plan selected successfully!\");\n      navigate(\"/dashboard\");\n    } catch (error) {\n      console.error(\"Error selecting plan:\", error);\n      alert(\"Error selecting plan.\");\n    }\n  };\n  \n\n  return (\n    <div className=\"plans-container\">\n      <div className=\"plans-wrapper\">\n        <h1 className=\"plans-title\">Choose Your Plan</h1>\n        <div className=\"plans-grid\">\n          {plans.map((plan) => (\n            <div key={plan.name} className=\"plan-card\">\n              <div className=\"price-banner\">{plan.price}/month</div>\n              <div className=\"plan-content\">\n                <h2 className=\"plan-name\">{plan.name}</h2>\n                <div className=\"features-list\">\n                  {[plan.area, plan.includes].map((feature, index) => (\n                    <div key={index} className=\"feature-item\">\n                      <svg className=\"check-icon\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M5 13l4 4L19 7\" />\n                      </svg>\n                      {feature}\n                    </div>\n                  ))}\n                </div>\n                <button onClick={() => handleSelection(plan.name)} className=\"select-button\">\n                  Select\n                </button>\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default PlanSelection;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}